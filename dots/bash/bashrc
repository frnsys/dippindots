# Initialize fzf
[ -f ~/.fzf.bash ] && source ~/.fzf.bash
export FZF_CTRL_T_COMMAND="fd . $HOME"
export FZF_ALT_C_COMMAND="fd -t d . $HOME"
export FZF_DEFAULT_COMMAND='rg --files --follow --glob "!.git/*"'

# Bash completion
[ -f /etc/bash_completion ] && source /etc/bash_completion

# nvm, lazy loaded
export NVM_DIR="$HOME/.nvm"
alias nvm='unalias nvm node npm && . "$NVM_DIR"/nvm.sh && nvm'
alias node='unalias nvm node npm && . "$NVM_DIR"/nvm.sh && node'
alias npm='unalias nvm node npm && . "$NVM_DIR"/nvm.sh && npm'

# pyenv
eval "$(pyenv init - bash --no-rehash)"

# Autocorrect typos in path names when using `cd`
shopt -s cdspell

# for racer rust source code lookup
export RUST_SRC_PATH=$(rustc --print sysroot)/lib/rustlib/src/rust/library

# Load the shell dotfiles, and then some:
# * ~/.path can be used to extend `$PATH`.
# * ~/.extra can be used for other settings you donâ€™t want to commit.
for file in ~/.dippindots/dots/bash/{path,prompt,aliases,functions}; do
	[ -r "$file" ] && source "$file"
done
unset file
